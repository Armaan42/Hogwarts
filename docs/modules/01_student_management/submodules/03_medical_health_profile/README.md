# MEDICAL & HEALTH PROFILE - COMPLETE DOCUMENTATION

**Module:** Student Management  
**Submodule Code:** STD-HEALTH-003  
**Category:** Student Services  
**Priority:** Critical (P0)  
**Owner:** Health & Wellness Team

---

## üìã OVERVIEW

The Medical & Health Profile submodule maintains comprehensive health records for each student including physical measurements, chronic conditions, allergies, vaccination history, mental health status, insurance details, emergency medical information, and fitness assessments. This enables proactive health management, emergency response, and regulatory compliance.

### Purpose

Create and maintain detailed health profiles to ensure student safety, enable rapid emergency response, track medical history, manage chronic conditions, facilitate health insurance claims, monitor growth patterns, and comply with health regulations.

### Scope

- **Physical Health**: Height, weight, BMI, vision, hearing, dental
- **Medical Conditions**: Chronic illnesses, disabilities, special needs
- **Allergies**: Food, environmental, medication allergies
- **Vaccinations**: Immunization records and schedules
- **Mental Health**: Counseling, behavioral assessments
- **Insurance**: Health coverage details
- **Emergency Info**: Critical medical data for emergencies

---

## üéØ KEY FEATURES

### 1. Physical Health Tracking

#### 1.1 Basic Measurements

**Current Health Metrics:**
```yaml
Student: Rohan Sharma
Admission Number: 2024/06/0457
Grade: 6-B
Age: 11 years 8 months

Physical Measurements:
  Height: 145 cm (4'9")
  Weight: 38 kg (83.8 lbs)
  BMI: 18.1
  BMI Category: Normal (Healthy weight)
  BMI Percentile: 55th percentile for age
  
Vision:
  Left Eye: 6/6 (20/20) - Normal
  Right Eye: 6/6 (20/20) - Normal
  Wears Glasses: No
  Color Blindness: No
  Last Eye Test: 15/03/2024
  Next Test Due: 15/03/2025
  
Hearing:
  Left Ear: Normal
  Right Ear: Normal
  Hearing Aid: No
  Last Hearing Test: 15/03/2024
  
Dental Health:
  Last Checkup: 10/02/2024
  Cavities: None
  Braces: No
  Dental Issues: None
  Next Checkup Due: 10/08/2024 (6 months)
  
Last Updated: 15/04/2024
Updated By: School Nurse (Mrs. Sharma)
```

**Growth Tracking History:**
```yaml
Growth Chart (Last 3 years):

2022 (Age 9):
  Height: 130 cm
  Weight: 30 kg
  BMI: 17.8
  
2023 (Age 10):
  Height: 138 cm
  Weight: 34 kg
  BMI: 17.9
  
2024 (Age 11):
  Height: 145 cm
  Weight: 38 kg
  BMI: 18.1
  
Growth Analysis:
  Height Gain: +7 cm/year (Normal)
  Weight Gain: +4 kg/year (Normal)
  Growth Pattern: Consistent, healthy growth
  Alerts: None
```

#### 1.2 Annual Health Checkup

**Comprehensive Health Assessment:**
```yaml
Annual Checkup Date: 01/04/2024
Conducted By: Dr. Suresh Mehta (MBBS, MD Pediatrics)
Clinic: Max Hospital, Noida

General Health:
  Overall Status: Fit and Healthy
  Energy Levels: Good
  Sleep Pattern: 8-9 hours (Adequate)
  Appetite: Normal
  Hydration: Adequate
  
Physical Examination:
  Heart Rate: 78 bpm (Normal)
  Blood Pressure: 110/70 mmHg (Normal)
  Respiratory Rate: 18/min (Normal)
  Temperature: 98.4¬∞F (Normal)
  
Systems Check:
  Cardiovascular: Normal
  Respiratory: Mild asthma (controlled)
  Digestive: Normal
  Nervous: Normal
  Musculoskeletal: Normal
  
Fitness Assessment:
  Flexibility: Good
  Strength: Average
  Endurance: Good
  Coordination: Excellent
  
Recommendations:
  - Continue current asthma management
  - Increase outdoor physical activity
  - Maintain balanced diet
  - Annual checkup next year
  
Medical Fitness: FIT for all school activities
Certificate Valid Till: 31/03/2025
```

---

### 2. Chronic Conditions Management

#### 2.1 Medical Conditions Registry

**Condition Profile:**
```yaml
Condition 1: Asthma (Mild Persistent)
  ICD-10 Code: J45.30
  Diagnosed Date: 15/05/2018
  Diagnosed By: Dr. Amit Kumar (Pulmonologist)
  Hospital: Max Hospital, Saket
  
  Severity: Mild
  Current Status: Well-controlled
  
  Triggers:
    - Dust and dust mites
    - Cold weather
    - Vigorous exercise
    - Pollen (seasonal)
    - Strong odors
    
  Symptoms:
    - Wheezing
    - Shortness of breath
    - Chest tightness
    - Coughing (especially at night)
    
  Medication:
    Primary: Salbutamol Inhaler (Ventolin)
      Dosage: 2 puffs as needed
      Frequency: PRN (when required)
      Location: School clinic + Student carries
      
    Preventive: Montelukast 5mg
      Dosage: 1 tablet daily
      Timing: Before bedtime
      Duration: Ongoing
      
  Emergency Action Plan:
    Step 1: Use inhaler (2 puffs)
    Step 2: Sit upright, calm breathing
    Step 3: If no improvement in 5 min, repeat inhaler
    Step 4: If still no improvement, call ambulance
    Step 5: Notify parents immediately
    
  School Accommodations:
    - Inhaler kept in school clinic
    - Student allowed to carry personal inhaler
    - Excused from strenuous exercise during attacks
    - Preferential seating (away from dusty areas)
    - AC classroom preferred
    
  Last Episode: 15/01/2024
  Episode Severity: Mild
  Treatment Given: Inhaler (2 puffs)
  Recovery Time: 10 minutes
  
  Follow-up Schedule:
    - Pulmonologist visit: Every 6 months
    - Next appointment: 15/11/2024
    - Lung function test: Annual
    
  Prognosis: Excellent with proper management
```

**Other Tracked Conditions:**
- **Diabetes (Type 1/Type 2)**: Blood sugar monitoring, insulin management
- **Epilepsy**: Seizure protocols, medication schedules
- **ADHD**: Behavioral support, medication tracking
- **Autism Spectrum Disorder**: IEP accommodations
- **Heart Conditions**: Activity restrictions, emergency protocols
- **Dyslexia**: Learning accommodations

---

### 3. Allergy Management

#### 3.1 Comprehensive Allergy Profile

**Food Allergies:**
```yaml
Allergy 1: Peanuts
  Severity: SEVERE (Anaphylaxis Risk)
  ICD-10 Code: Z91.010
  Diagnosed: 10/03/2019
  Confirmed By: Allergy skin test + Blood test
  
  Reaction Type: IgE-mediated
  Symptoms:
    - Hives and skin rash
    - Swelling of lips, tongue, throat
    - Difficulty breathing
    - Drop in blood pressure
    - Anaphylactic shock (severe cases)
    
  Onset Time: Within 5-30 minutes of exposure
  
  Avoidance Strategy:
    - No peanuts or peanut products
    - Check all food labels
    - Inform canteen staff
    - Separate lunch area if needed
    
  Emergency Treatment:
    Primary: EpiPen (Epinephrine auto-injector)
      Dosage: 0.3 mg (Adult dose)
      Location: School clinic + Student carries
      Expiry: 15/08/2025
      
    Secondary: Antihistamine (Benadryl)
      Dosage: 25 mg
      
    Tertiary: Call ambulance immediately
    
  School Protocol:
    - EpiPen available in clinic
    - Nurse trained in administration
    - All teachers informed
    - Canteen staff alerted
    - No peanut products in school canteen
    
Allergy 2: Shellfish
  Severity: MODERATE
  Symptoms: Hives, nausea, vomiting
  Treatment: Antihistamine
  Avoidance: No seafood in diet
```

**Environmental Allergies:**
```yaml
Allergy 1: Dust Mites
  Severity: MILD
  Symptoms: Sneezing, runny nose, itchy eyes
  Season: Year-round (worse in monsoon)
  
  Management:
    - Daily antihistamine (Cetirizine 10mg)
    - Avoid dusty areas
    - AC classroom preferred
    - Regular classroom cleaning
    
Allergy 2: Pollen
  Severity: MILD
  Symptoms: Hay fever, sneezing
  Season: Spring (Feb-April)
  
  Management:
    - Antihistamine during pollen season
    - Avoid outdoor activities during high pollen days
    - Keep windows closed
```

**Medication Allergies:**
```yaml
Allergy: Penicillin
  Severity: SEVERE
  Reaction: Anaphylaxis
  Alternatives: Azithromycin, Cephalosporins (with caution)
  
  Alert:
    - Red flag in medical records
    - Inform all medical staff
    - Medical alert bracelet recommended
```

---

### 4. Vaccination Records

#### 4.1 Immunization Status

**COVID-19 Vaccination:**
```yaml
Vaccine: COVID-19
  Dose 1:
    Date: 15/05/2021
    Vaccine: Covaxin
    Batch: CV001234
    Site: Max Hospital, Noida
    Side Effects: Mild fever (resolved in 24 hours)
    
  Dose 2:
    Date: 15/06/2021
    Vaccine: Covaxin
    Batch: CV001456
    Site: Max Hospital, Noida
    Side Effects: Arm pain (mild)
    
  Booster 1:
    Date: 15/01/2024
    Vaccine: Covishield
    Batch: CS002345
    Site: School vaccination camp
    Side Effects: None
    
  Next Dose: Annual booster (15/01/2025)
  Status: Fully Vaccinated + Booster
```

**Routine Immunizations:**
```yaml
BCG (Tuberculosis):
  Date: 10/08/2012 (Birth)
  Status: ‚úì Complete
  
DPT (Diphtheria, Pertussis, Tetanus):
  Dose 1: 10/10/2012 (2 months)
  Dose 2: 10/12/2012 (4 months)
  Dose 3: 10/02/2013 (6 months)
  Booster 1: 10/08/2013 (12 months)
  Booster 2: 10/08/2017 (5 years)
  Status: ‚úì Complete
  Next: Tdap booster at age 11-12 (Due: 2024)
  
Polio (OPV/IPV):
  Dose 1: 10/10/2012
  Dose 2: 10/12/2012
  Dose 3: 10/02/2013
  Booster: 10/08/2017
  Status: ‚úì Complete
  
MMR (Measles, Mumps, Rubella):
  Dose 1: 10/08/2013 (12 months)
  Dose 2: 10/08/2017 (5 years)
  Status: ‚úì Complete
  
Hepatitis B:
  Dose 1: 10/08/2012 (Birth)
  Dose 2: 10/10/2012 (2 months)
  Dose 3: 10/02/2013 (6 months)
  Status: ‚úì Complete
  
Typhoid:
  Date: 10/08/2022
  Status: ‚úì Complete
  Next: Booster due 2025 (every 3 years)
  
Varicella (Chickenpox):
  Dose 1: 10/08/2013
  Dose 2: 10/08/2017
  Status: ‚úì Complete
  
HPV (Human Papillomavirus):
  Status: Not yet due (recommended age 11-12)
  Planned: 2024
```

**Vaccination Compliance:**
- **Overall Status**: 95% Complete
- **Pending**: Tdap booster, HPV series
- **Next Due**: Tdap (Aug 2024), Typhoid booster (Aug 2025)

---

### 5. Mental Health & Counseling

#### 5.1 Psychological Profile

**Counseling History:**
```yaml
Session Series 1: Exam Anxiety Management
  Period: October - December 2023
  Number of Sessions: 6
  Counselor: Ms. Priya Mehta (M.A. Psychology, Licensed Counselor)
  
  Presenting Issue:
    - Excessive worry before exams
    - Sleep disturbances
    - Loss of appetite
    - Difficulty concentrating
    
  Assessment:
    - Mild exam-related anxiety
    - Perfectionist tendencies
    - High parental expectations
    
  Intervention:
    - Cognitive Behavioral Therapy (CBT)
    - Relaxation techniques
    - Time management skills
    - Parent counseling session
    
  Progress:
    Session 1-2: Assessment and rapport building
    Session 3-4: CBT techniques, coping strategies
    Session 5-6: Practice and reinforcement
    
  Outcome:
    - Anxiety levels reduced significantly
    - Better sleep pattern
    - Improved exam performance
    - More confident approach to tests
    
  Status: RESOLVED
  Follow-up: Quarterly check-ins
  Next Check-in: April 2024
```

**Behavioral Assessment:**
```yaml
Social-Emotional Development:
  Social Skills: Good
    - Makes friends easily
    - Participates in group activities
    - Respectful to peers and teachers
    
  Peer Relationships: Positive
    - Has close friend group (4-5 friends)
    - No bullying incidents (victim or perpetrator)
    - Cooperative in team activities
    
  Emotional Regulation: Age-appropriate
    - Manages frustration well
    - Expresses emotions appropriately
    - Seeks help when needed
    
  Academic Stress: Moderate (Managed)
    - Handles academic pressure reasonably
    - Uses coping strategies learned in counseling
    - Balanced approach to studies
    
  Family Support: Strong
    - Supportive parents
    - Stable home environment
    - Open communication with family
    
  Self-Esteem: Healthy
    - Positive self-image
    - Realistic self-assessment
    - Confident but not overconfident
    
Overall Mental Health: GOOD
Concerns: None currently
Recommendations: Continue quarterly check-ins
```

**Mental Health Screening:**
```yaml
Last Screening: 15/01/2024
Screening Tool: Strengths and Difficulties Questionnaire (SDQ)

Results:
  Emotional Symptoms: 2/10 (Normal)
  Conduct Problems: 1/10 (Normal)
  Hyperactivity: 3/10 (Normal)
  Peer Problems: 1/10 (Normal)
  Prosocial Behavior: 9/10 (Excellent)
  
  Total Difficulties Score: 7/40 (Normal range)
  
Interpretation: No significant mental health concerns
Next Screening: January 2025 (Annual)
```

---

### 6. Health Insurance

#### 6.1 Insurance Coverage Details

**Primary Health Insurance:**
```yaml
Insurance Provider: Star Health and Allied Insurance
Policy Type: Family Floater
Policy Number: SH/2024/123456789
Policy Holder: Mr. Rajesh Kumar Patel (Father)

Coverage Details:
  Sum Insured: ‚Çπ5,00,000 (5 Lakhs)
  Policy Period: 01/04/2024 - 31/03/2025
  Premium: ‚Çπ12,500/year
  Payment Status: Paid (01/04/2024)
  
Covered Members:
  - Mr. Rajesh Patel (Self)
  - Mrs. Priya Patel (Spouse)
  - Rohan Sharma (Son)
  - Diya Patel (Daughter)
  
Coverage Includes:
  - Hospitalization expenses
  - Pre-hospitalization (30 days)
  - Post-hospitalization (60 days)
  - Ambulance charges (up to ‚Çπ2,000)
  - Day care procedures
  - Organ donor expenses
  - Alternative treatments (AYUSH)
  
Exclusions:
  - Pre-existing conditions (2-year waiting)
  - Cosmetic surgery
  - Dental treatment (unless accident)
  - Maternity expenses
  
Cashless Hospitals (Network):
  - Max Super Speciality Hospital, Saket
  - Apollo Hospital, Noida
  - Fortis Hospital, Noida
  - Kailash Hospital, Noida
  - Yatharth Hospital, Noida
  
TPA (Third Party Administrator):
  Name: Medi Assist India TPA
  Helpline: 1800-123-4567
  Email: claims@mediassist.in
  
Claim Process:
  Cashless: Pre-authorization required
  Reimbursement: Submit within 15 days
  
Emergency Contact:
  Toll-free: 1800-266-7780
  Available: 24x7
```

**School Accident Insurance:**
```yaml
Provider: National Insurance Company
Policy Number: NIC/SCH/2024/789
Coverage: ‚Çπ1,00,000
Type: Personal Accident
Premium: Paid by school
Validity: 01/04/2024 - 31/03/2025

Covers:
  - Accidental death
  - Permanent disability
  - Temporary disability
  - Medical expenses (accident-related)
  
Applicable: During school hours and school events
```

---

### 7. Blood Donation & Blood Bank

#### 7.1 Blood Donor Profile

**Current Status:**
```yaml
Student: Rohan Sharma
Age: 11 years 8 months
Blood Group: B+ (Verified)

Eligibility Assessment:
  Age Requirement: 18 years minimum
    Current: 11 years ‚ùå
    Eligible From: August 2031
    
  Weight Requirement: 45 kg minimum
    Current: 38 kg ‚ùå
    
  Health Status: Must be healthy
    Current: Mild asthma (May affect eligibility)
    
  Overall Eligibility: NOT ELIGIBLE
  
Reason: Below minimum age and weight
Future Eligibility: 2031 (when turns 18)

Note: Profile maintained for future reference
      Will be reassessed at age 18
```

**Blood Bank Registry:**
```yaml
Registered in School Blood Bank: Yes
Registration Date: 01/04/2024
Purpose: Emergency blood requirement tracking

Family Blood Donors:
  Father (Mr. Rajesh Patel):
    Blood Group: B+
    Donor Status: Active
    Last Donation: 15/02/2024
    Next Eligible: 15/05/2024 (3 months gap)
    
  Mother (Mrs. Priya Patel):
    Blood Group: O+
    Donor Status: Active
    Last Donation: 10/01/2024
    Next Eligible: 10/04/2024
    
Emergency Blood Requirement:
  If student needs blood: B+ or O+
  Family donors available: Yes (Father)
  Blood bank contacts: Saved in system
```

---

## üìä DATABASE SCHEMA

### Student Health Profile Table

```sql
CREATE TABLE student_health_profiles (
  -- Primary Key
  health_profile_id INT PRIMARY KEY AUTO_INCREMENT,
  student_id INT NOT NULL UNIQUE,
  
  -- Physical Measurements
  height_cm DECIMAL(5,2),
  weight_kg DECIMAL(5,2),
  bmi DECIMAL(4,2) GENERATED ALWAYS AS (weight_kg / ((height_cm/100) * (height_cm/100))),
  bmi_category VARCHAR(20),
  bmi_percentile INT,
  
  -- Vision
  vision_left VARCHAR(10),
  vision_right VARCHAR(10),
  wears_glasses BOOLEAN DEFAULT FALSE,
  color_blindness BOOLEAN DEFAULT FALSE,
  last_eye_test_date DATE,
  
  -- Hearing
  hearing_left VARCHAR(20),
  hearing_right VARCHAR(20),
  hearing_aid BOOLEAN DEFAULT FALSE,
  last_hearing_test_date DATE,
  
  -- Dental
  dental_status VARCHAR(50),
  has_braces BOOLEAN DEFAULT FALSE,
  last_dental_checkup DATE,
  next_dental_checkup DATE,
  
  -- General Health
  blood_group VARCHAR(5),
  last_health_checkup DATE,
  next_health_checkup DATE,
  medical_fitness_valid_till DATE,
  overall_health_status VARCHAR(50),
  
  -- Blood Donation
  blood_donation_eligible BOOLEAN DEFAULT FALSE,
  blood_donor_registered BOOLEAN DEFAULT FALSE,
  
  -- Timestamps
  created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  last_updated_by INT,
  
  -- Foreign Keys
  FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
  
  -- Indexes
  INDEX idx_student_id (student_id),
  INDEX idx_blood_group (blood_group),
  INDEX idx_fitness_validity (medical_fitness_valid_till)
);
```

### Chronic Conditions Table

```sql
CREATE TABLE student_chronic_conditions (
  condition_id INT PRIMARY KEY AUTO_INCREMENT,
  student_id INT NOT NULL,
  
  -- Condition Details
  condition_name VARCHAR(200) NOT NULL,
  icd10_code VARCHAR(10),
  severity ENUM('MILD', 'MODERATE', 'SEVERE') NOT NULL,
  diagnosed_date DATE,
  diagnosed_by VARCHAR(200),
  hospital VARCHAR(200),
  
  -- Status
  current_status VARCHAR(50),
  is_active BOOLEAN DEFAULT TRUE,
  
  -- Management
  triggers TEXT,
  symptoms TEXT,
  medication TEXT,
  emergency_action_plan TEXT,
  school_accommodations TEXT,
  
  -- Tracking
  last_episode_date DATE,
  episode_severity VARCHAR(20),
  next_followup_date DATE,
  
  -- Timestamps
  created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  -- Foreign Keys
  FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
  
  -- Indexes
  INDEX idx_student_id (student_id),
  INDEX idx_condition_name (condition_name),
  INDEX idx_is_active (is_active)
);
```

### Allergies Table

```sql
CREATE TABLE student_allergies (
  allergy_id INT PRIMARY KEY AUTO_INCREMENT,
  student_id INT NOT NULL,
  
  -- Allergy Details
  allergy_type ENUM('FOOD', 'ENVIRONMENTAL', 'MEDICATION', 'OTHER') NOT NULL,
  allergen_name VARCHAR(200) NOT NULL,
  severity ENUM('MILD', 'MODERATE', 'SEVERE') NOT NULL,
  
  -- Reaction
  reaction_symptoms TEXT,
  onset_time VARCHAR(100),
  
  -- Diagnosis
  diagnosed_date DATE,
  confirmed_by VARCHAR(200),
  test_method VARCHAR(100),
  
  -- Management
  avoidance_strategy TEXT,
  emergency_treatment TEXT,
  epipen_required BOOLEAN DEFAULT FALSE,
  epipen_expiry_date DATE,
  
  -- School Protocol
  school_protocol TEXT,
  staff_informed BOOLEAN DEFAULT FALSE,
  
  -- Status
  is_active BOOLEAN DEFAULT TRUE,
  
  -- Timestamps
  created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  -- Foreign Keys
  FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
  
  -- Indexes
  INDEX idx_student_id (student_id),
  INDEX idx_severity (severity),
  INDEX idx_allergen (allergen_name)
);
```

### Vaccination Records Table

```sql
CREATE TABLE student_vaccinations (
  vaccination_id INT PRIMARY KEY AUTO_INCREMENT,
  student_id INT NOT NULL,
  
  -- Vaccine Details
  vaccine_name VARCHAR(100) NOT NULL,
  vaccine_type VARCHAR(100),
  dose_number INT,
  total_doses INT,
  
  -- Administration
  vaccination_date DATE NOT NULL,
  batch_number VARCHAR(50),
  administered_at VARCHAR(200),
  administered_by VARCHAR(200),
  
  -- Reaction
  side_effects TEXT,
  adverse_reaction BOOLEAN DEFAULT FALSE,
  
  -- Schedule
  next_dose_due DATE,
  
  -- Status
  is_complete BOOLEAN DEFAULT FALSE,
  
  -- Timestamps
  created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  
  -- Foreign Keys
  FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
  
  -- Indexes
  INDEX idx_student_id (student_id),
  INDEX idx_vaccine_name (vaccine_name),
  INDEX idx_next_due (next_dose_due)
);
```

### Mental Health Records Table

```sql
CREATE TABLE student_mental_health (
  mental_health_id INT PRIMARY KEY AUTO_INCREMENT,
  student_id INT NOT NULL,
  
  -- Session Details
  session_date DATE NOT NULL,
  session_type ENUM('COUNSELING', 'ASSESSMENT', 'SCREENING', 'FOLLOW_UP') NOT NULL,
  counselor_name VARCHAR(200),
  
  -- Issue
  presenting_issue TEXT,
  assessment TEXT,
  intervention TEXT,
  
  -- Progress
  session_notes TEXT,
  progress_status VARCHAR(50),
  
  -- Outcome
  outcome TEXT,
  follow_up_required BOOLEAN DEFAULT FALSE,
  next_session_date DATE,
  
  -- Confidentiality
  confidential BOOLEAN DEFAULT TRUE,
  parent_informed BOOLEAN DEFAULT FALSE,
  
  -- Timestamps
  created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  
  -- Foreign Keys
  FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
  
  -- Indexes
  INDEX idx_student_id (student_id),
  INDEX idx_session_date (session_date)
);
```

### Health Insurance Table

```sql
CREATE TABLE student_health_insurance (
  insurance_id INT PRIMARY KEY AUTO_INCREMENT,
  student_id INT NOT NULL,
  
  -- Insurance Details
  insurance_provider VARCHAR(200) NOT NULL,
  policy_number VARCHAR(100) NOT NULL,
  policy_type VARCHAR(50),
  policy_holder_name VARCHAR(200),
  
  -- Coverage
  sum_insured DECIMAL(12,2),
  policy_start_date DATE NOT NULL,
  policy_end_date DATE NOT NULL,
  premium_amount DECIMAL(10,2),
  payment_status VARCHAR(50),
  
  -- TPA
  tpa_name VARCHAR(200),
  tpa_helpline VARCHAR(20),
  tpa_email VARCHAR(100),
  
  -- Network
  cashless_hospitals TEXT,
  
  -- Status
  is_active BOOLEAN DEFAULT TRUE,
  
  -- Timestamps
  created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  -- Foreign Keys
  FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
  
  -- Indexes
  INDEX idx_student_id (student_id),
  INDEX idx_policy_end_date (policy_end_date)
);
```

---

## ‚öôÔ∏è BUSINESS RULES

### Rule 1: BMI Calculation & Alerts

```javascript
FUNCTION calculate_and_alert_bmi(student_id, height_cm, weight_kg) {
  // Calculate BMI
  height_m = height_cm / 100
  bmi = weight_kg / (height_m * height_m)
  bmi = ROUND(bmi, 2)
  
  // Get student age for percentile calculation
  student = GET_STUDENT(student_id)
  age_years = CALCULATE_AGE(student.date_of_birth)
  
  // Determine BMI category for children (CDC guidelines)
  bmi_percentile = CALCULATE_BMI_PERCENTILE(bmi, age_years, student.gender)
  
  IF bmi_percentile < 5 {
    category = "Underweight"
    alert_level = "HIGH"
  } ELSE IF bmi_percentile >= 5 AND bmi_percentile < 85 {
    category = "Normal"
    alert_level = "NONE"
  } ELSE IF bmi_percentile >= 85 AND bmi_percentile < 95 {
    category = "Overweight"
    alert_level = "MEDIUM"
  } ELSE {
    category = "Obese"
    alert_level = "HIGH"
  }
  
  // Update health profile
  UPDATE student_health_profiles SET
    height_cm = height_cm,
    weight_kg = weight_kg,
    bmi_category = category,
    bmi_percentile = bmi_percentile,
    updated_date = NOW()
  WHERE student_id = student_id
  
  // Send alerts if needed
  IF alert_level != "NONE" {
    // Notify school nurse
    SEND_NOTIFICATION("school_nurse", {
      title: `BMI Alert: ${student.full_name}`,
      message: `BMI: ${bmi} (${category}, ${bmi_percentile}th percentile)`,
      priority: alert_level,
      student_id: student_id
    })
    
    // Email parents
    SEND_EMAIL(student.parent_email, {
      subject: "Health Checkup Recommended",
      template: "bmi_alert",
      data: {
        student_name: student.full_name,
        bmi: bmi,
        category: category,
        percentile: bmi_percentile,
        recommendation: GET_BMI_RECOMMENDATION(category)
      }
    })
  }
  
  RETURN {
    bmi: bmi,
    category: category,
    percentile: bmi_percentile,
    alert_sent: alert_level != "NONE"
  }
}
```

### Rule 2: Vaccination Due Alerts

```javascript
FUNCTION check_vaccination_due() {
  // Run monthly
  today = CURRENT_DATE()
  
  // Get all students with upcoming vaccinations
  due_vaccinations = QUERY("
    SELECT v.*, s.full_name, s.admission_number,
           f.father_email, f.father_mobile,
           DATEDIFF(v.next_dose_due, ?) as days_until_due
    FROM student_vaccinations v
    JOIN students s ON v.student_id = s.student_id
    JOIN families f ON s.family_id = f.family_id
    WHERE v.next_dose_due IS NOT NULL
    AND v.is_complete = FALSE
    AND v.next_dose_due BETWEEN ? AND DATE_ADD(?, INTERVAL 60 DAY)
  ", [today, today, today])
  
  FOR each vac IN due_vaccinations {
    days_remaining = vac.days_until_due
    
    IF days_remaining <= 30 AND days_remaining > 15 {
      // 30-day reminder
      SEND_EMAIL(vac.father_email, {
        subject: "Vaccination Due Soon",
        message: `${vac.vaccine_name} dose ${vac.dose_number} due on ${vac.next_dose_due}`
      })
    } ELSE IF days_remaining <= 15 AND days_remaining > 0 {
      // 15-day urgent reminder
      SEND_EMAIL(vac.father_email, {
        subject: "URGENT: Vaccination Due",
        priority: "HIGH"
      })
      SEND_SMS(vac.father_mobile, 
        `Vaccination due: ${vac.vaccine_name} for ${vac.full_name} on ${vac.next_dose_due}`)
    } ELSE IF days_remaining <= 0 {
      // Overdue
      SEND_EMAIL(vac.father_email, {
        subject: "OVERDUE: Vaccination Required",
        priority: "HIGH"
      })
      
      // Notify school nurse
      SEND_NOTIFICATION("school_nurse", {
        title: "Overdue Vaccination",
        message: `${vac.full_name}: ${vac.vaccine_name} overdue`,
        priority: "HIGH"
      })
    }
  }
}
```

---

## üîó INTEGRATION POINTS

### Outbound Integrations

1. **Health & Wellness Module**: Share complete health profile
2. **Canteen Module**: Flag food allergies for meal planning
3. **Sports Module**: Check fitness for sports participation
4. **Emergency Response**: Quick access to critical medical info
5. **Special Education**: Share IEP-related health information

### Inbound Integrations

1. **School Clinic**: Updated health records after visits
2. **Parent Portal**: Insurance updates, vaccination records
3. **External Hospitals**: Medical reports, test results

---

## üë• USER WORKFLOWS

### Workflow: Annual Health Checkup Update

**Actor:** School Nurse  
**Duration:** 15-20 minutes per student

**Steps:**

1. Student visits clinic for annual checkup
2. Nurse measures height, weight
3. System auto-calculates BMI
4. Nurse records vision, hearing tests
5. Updates dental status
6. Reviews chronic conditions
7. Checks vaccination status
8. Updates medical fitness certificate
9. System sends summary to parents
10. Flags any health concerns

**Expected Outcome:** Complete health profile updated, parents notified

---

## üìä REPORTS & ANALYTICS

### Health Dashboard

```yaml
Overall Statistics:
  Total Students: 1,200
  Health Profiles Complete: 1,180 (98.3%)
  Pending Updates: 20 (1.7%)

BMI Distribution:
  Underweight: 120 (10%)
  Normal: 900 (75%)
  Overweight: 150 (12.5%)
  Obese: 30 (2.5%)

Chronic Conditions:
  Asthma: 45 students
  Diabetes: 5 students
  ADHD: 12 students
  Epilepsy: 3 students

Allergies:
  Food Allergies: 78 students
  Severe Allergies (EpiPen): 12 students
  Environmental: 145 students

Vaccination Compliance:
  Fully Vaccinated: 1,150 (95.8%)
  Pending Doses: 50 (4.2%)
  Overdue: 15 (1.25%)
```

---

**Status:** Production-Ready Documentation  
**Last Updated:** January 17, 2026  
**Version:** 2.0  
**Documentation Standard:** Enterprise Grade  
**Compliance:** Health Regulations, Medical Privacy Laws
